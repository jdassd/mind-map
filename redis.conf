# Redis configuration for mind-map node locking
# Data persists to /app/data/redis/ (mounted volume)

bind 127.0.0.1
port 6379
daemonize no

# Persistence: AOF for durability across restarts
dir /app/data/redis
appendonly yes
appendfilename "appendonly.aof"
appendfsync everysec

# Also enable RDB snapshots as backup
save 900 1
save 300 10
save 60 10000
dbfilename dump.rdb

# Memory limit (locks are small, 16MB is plenty)
maxmemory 16mb
maxmemory-policy allkeys-lru

# Logging
loglevel warning
